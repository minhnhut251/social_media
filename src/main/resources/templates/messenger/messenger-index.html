<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>

    <style>
        body {
            background-color: #6a11cb;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
            overflow: hidden;
        }
        .messenger-container {
            width: 1050px;
            height: 667px;
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            display: flex;
        }
        .sidebar {
            width: 35%;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
            overflow-y: auto;
        }
        .chat-section {
            width: 65%;
            display: flex;
            flex-direction: column;
        }
        .sidebar-divider {
            width: 1px;
            background-color: #dee2e6;
        }
        .chat-header {
            background-color: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }
        .message-input {
            background-color: #f8f9fa;
            border-top: 1px solid #dee2e6;
        }
        /*.chat-image {*/
        /*    max-width: 100%;*/
        /*    height: auto;*/
        /*}*/
        /*.message-blue {*/
        /*    background-color: #007bff;*/
        /*    color: white;*/
        /*    max-width: 70%;*/
        /*    border-radius: 15px;*/
        /*    padding: 8px 12px;*/
        /*    margin: 5px 0;*/
        /*    align-self: flex-end;*/
        /*}*/
        /*.message-gray {*/
        /*    background-color: #e9ecef;*/
        /*    max-width: 70%;*/
        /*    border-radius: 15px;*/
        /*    padding: 8px 12px;*/
        /*    margin: 5px 0;*/
        /*    align-self: flex-start;*/
        /*}*/
    </style>
</head>
<body>
<div th:replace="~{fragments/navbar :: navbar}"></div>
<hr>
<hr>
<hr>

<!--<div class="container">-->

<!--    <div th:each="user : ${listUsers}">-->
<!--        <a th:if="${#authentication.getPrincipal().getUser().getId() != user.id}" th:href="@{/messenger/{userId} (userId=${user.id}) }" th:text="${user.fullName}">User ID</a>-->


<!--    </div>-->



<!--</div>          -->

<div class="messenger-container">
    <div class="sidebar p-3">
        <div class="input-group mb-3">
            <span class="input-group-text"><i class="bi bi-search"></i></span>
            <input type="text" class="form-control" placeholder="Search">
        </div>
        <!-- Previously shared HTML, with the following updates to the list-group section: -->
        <div class="list-group" th:each="user : ${listUsers}">
            <a th:if="${#authentication.getPrincipal().getUser().getId() != user.id}" th:href="@{/messenger/{userId} (userId=${user.id}) }" th:text="${user.fullName}" class="list-group-item list-group-item-action d-flex align-items-center py-2">
                <img src="/api/placeholder/40/40" class="rounded-circle me-3" alt="Profile">
<!--                <div>-->
<!--                    <h6 class="mb-1">Alice Chuang</h6>-->
<!--                    <small class="text-muted">Sent a GIF from Tenor â€¢ Now</small>-->
<!--                </div>-->
            </a>
        </div>
    </div>
    <div class="sidebar-divider"></div>
    <div class="chat-section">
        <div class="chat-header d-flex align-items-center p-3">
            <img src="/api/placeholder/40/40" class="rounded-circle me-3" alt="Profile">
            <div>
                <h6 class="mb-0">Crew</h6>
                <small class="text-muted">Last active 2 hours ago</small>
            </div>
            <div class="ms-auto">
                <button class="btn btn-link text-dark"><i class="bi bi-telephone-fill"></i></button>
                <button class="btn btn-link text-dark"><i class="bi bi-camera-video-fill"></i></button>
                <button class="btn btn-link text-dark"><i class="bi bi-three-dots-vertical"></i></button>
            </div>
        </div>
       <div class="chat-body p-3 d-flex flex-column" style="flex-grow: 1; overflow-y: auto;">
<!--            <img src="/api/placeholder/300/300" class="chat-image mb-3" alt="Cat meme" style="background: linear-gradient(135deg, blue, magenta);">-->
<!--            <div class="message-gray align-self-start">haha</div>-->
<!--            <div class="message-blue align-self-end">hahahah</div>-->
<!--            <div class="message-blue align-self-end">My friend Sarah will love this</div>-->
<!--            <div class="message-gray align-self-start">So good lmao</div>-->
<!--            <div class="message-gray align-self-start">When are we chatting? I'm free on Saturday</div>-->
<!--            <div class="message-blue align-self-end">I'm super down for Saturday!</div>-->
<!--            <div class="message-blue align-self-end">Let's invite Paul? 1pm?</div>-->
        </div>
        <div class="message-input d-flex align-items-center p-3">
            <button class="btn btn-link text-dark me-2"><i class="bi bi-plus-circle"></i></button>
            <input type="text" class="form-control me-2" placeholder="Aa">
            <button class="btn btn-link text-primary"><i class="bi bi-emoji-smile"></i></button>
            <button class="btn btn-link text-primary"><i class="bi bi-hand-thumbs-up"></i></button>
        </div>
    </div>
</div>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>